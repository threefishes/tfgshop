(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a00b5b6"],{"0653":function(e,t,r){"use strict";r("68ef"),r("5c56")},"08d0":function(e,t,r){"use strict";r("39f1")},"0fee":function(e,t,r){},2994:function(e,t,r){"use strict";r("68ef"),r("e3b3"),r("c0c2")},"2bdd":function(e,t,r){"use strict";var a=r("d282"),n=r("02de"),o=r("a8c1"),i=r("5fbe"),s=r("543e"),c=Object(a["a"])("list"),d=c[0],l=c[1],u=c[2];t["a"]=d({mixins:[Object(i["a"])((function(e){this.scroller||(this.scroller=Object(o["d"])(this.$el)),e(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var e=this;this.$nextTick((function(){if(!(e.innerLoading||e.finished||e.error)){var t,r=e.$el,a=e.scroller,o=e.offset,i=e.direction;t=a.getBoundingClientRect?a.getBoundingClientRect():{top:0,bottom:a.innerHeight};var s=t.bottom-t.top;if(!s||Object(n["a"])(r))return!1;var c=!1,d=e.$refs.placeholder.getBoundingClientRect();c="up"===i?t.top-d.top<=o:d.bottom-t.bottom<=o,c&&(e.innerLoading=!0,e.$emit("input",!0),e.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var e=this.$createElement;if(this.innerLoading&&!this.finished)return e("div",{key:"loading",class:l("loading")},[this.slots("loading")||e(s["a"],{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var e=this.$createElement;if(this.finished){var t=this.slots("finished")||this.finishedText;if(t)return e("div",{class:l("finished-text")},[t])}},genErrorText:function(){var e=this.$createElement;if(this.error){var t=this.slots("error")||this.errorText;if(t)return e("div",{on:{click:this.clickErrorText},class:l("error-text")},[t])}}},render:function(){var e=arguments[0],t=e("div",{ref:"placeholder",key:"placeholder",class:l("placeholder")});return e("div",{class:l(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():t,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():t])}})},3647:function(e,t,r){"use strict";r("68ef"),r("9d70"),r("3743"),r("1a04"),r("5c56"),r("0fee")},"39f1":function(e,t,r){},"66b9":function(e,t,r){"use strict";r("68ef"),r("9d70"),r("3743"),r("e3b3"),r("bc1b")},b30f:function(e,t,r){"use strict";var a=r("b775");t["a"]={save:function(e){return Object(a["a"])({url:"/user/order/save",method:"post",params:e})},get:function(e){return Object(a["a"])({url:"/user/order/"+e,method:"get"})},getExpressInfo:function(e){return Object(a["a"])({url:"/user/order/getExpressInfo/"+e,method:"get"})},remove:function(e){return Object(a["a"])({url:"/user/order/cancel/"+e,method:"post"})},getOrders:function(e){return Object(a["a"])({url:"/user/order/getOrders",method:"get",params:e})},prepareCheckout:function(e){return Object(a["a"])({url:"/user/order/prepareCheckout",params:e,method:"get"})},confirm:function(e){return Object(a["a"])({url:"/user/order/confirm/"+e,method:"post"})}}},b775:function(e,t,r){"use strict";r("e7e5");var a=r("d399"),n=(r("a481"),r("bc3a")),o=r.n(n),i=r("41cb"),s=r("4360"),c=r("5d2d"),d=o.a.create({baseURL:"/prod-api",withCredentials:!1,timeout:15e3});d.interceptors.request.use((function(e){return c["a"].getToken()&&(e.headers["Authorization"]=c["a"].getToken()),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){console.log("response",e),e.headers.token&&s["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return 2e4!==t.code?Promise.reject(t.msg||"error"):t}),(function(e){if(e.response)switch(e.response.status){case 401:return s["a"].dispatch("app/toggleUser",{}),s["a"].dispatch("app/toggleToken",""),i["a"].replace({path:"/login",query:{redirect:i["a"].currentRoute.path}}),Promise.reject(e.response.data.message);case 500:if(e.response.data.message)return e.response.data.message.indexOf("relogin")>-1?(s["a"].dispatch("app/toggleUser",{}),s["a"].dispatch("app/toggleToken",""),i["a"].replace({path:"/login",query:{redirect:i["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):e.response.data.message.indexOf("该手机号已经绑定其他微信号")>-1?(s["a"].dispatch("app/toggleUser",{}),s["a"].dispatch("app/toggleToken",""),a["a"].fail(e.response.data.message),i["a"].replace({path:"/login",query:{redirect:i["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):(a["a"].fail(e.response.data.message),Promise.reject(e.response.data.message));break;default:return Promise.reject(e.response.data.message)}})),t["a"]=d},c0c2:function(e,t,r){},c194:function(e,t,r){"use strict";r("68ef"),r("9d70"),r("3743"),r("1a04")},cd5a:function(e,t,r){"use strict";r.r(t);var a,n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("van-nav-bar",{attrs:{title:"订单详情","left-arrow":""},on:{"click-left":e.onClickLeft}}),e._v(" "),t("div",{staticClass:"order_detail"},[t("van-panel",{attrs:{title:e.order.consignee+" "+e.order.mobile,status:e.order.statusName}},[t("div",{staticClass:"address_detail"},[e._v("\n                "+e._s(e.order.consigneeAddress)+"\n                "),t("br")]),e._v(" "),t("div",{staticClass:"footer_btn",attrs:{slot:"footer"},slot:"footer"},[t("van-button",{attrs:{size:"small",type:"default"},on:{click:e.contact}},[e._v("联系客服")]),e._v(" "),t("van-button",{directives:[{name:"show",rawName:"v-show",value:"待付款"==e.order.statusName,expression:"order.statusName=='待付款'"}],attrs:{size:"small",type:"danger"},on:{click:e.payment}},[e._v("立即付款")]),e._v(" "),t("van-button",{directives:[{name:"show",rawName:"v-show",value:"已发货"==e.order.statusName,expression:"order.statusName=='已发货'"}],attrs:{size:"small",type:"danger"},on:{click:e.confirmReceive}},[e._v("确认收货")])],1)]),e._v(" "),t("van-panel",{attrs:{title:"订单编号: "+e.order.orderSn}},[e._l(e.order.items,(function(r,a){return t("van-card",{key:a,attrs:{title:r.goods.name,desc:r.goods.descript,price:e.formatPrice(r.price),num:r.count,thumb:e.imgUrl+r.goods.pic},on:{click:function(t){return e.toGoods(r.goods.id)}}})})),e._v(" "),t("div",{staticClass:"total"},[e._v("合计: "+e._s(e.formatPrice(e.order.totalPrice)))])],2),e._v(" "),t("van-panel",{attrs:{title:"订单信息"}},[t("van-cell-group",[t("van-cell",{attrs:{title:"订单编号",value:e.order.orderSn}}),e._v(" "),t("van-cell",{attrs:{title:"备注",value:e.order.message}}),e._v(" "),t("van-cell",{attrs:{title:"创建时间",value:e.order.createTime}})],1)],1),e._v(" "),t("br"),t("br"),t("br")],1),e._v(" "),t("van-tabbar",{model:{value:e.activeFooter,callback:function(t){e.activeFooter=t},expression:"activeFooter"}},[t("van-tabbar-item",{attrs:{icon:"home-o",replace:"",to:"/index"}},[e._v("首页")]),e._v(" "),t("van-tabbar-item",{attrs:{icon:"search",replace:"",to:"/search"}},[e._v("发现")]),e._v(" "),t("van-tabbar-item",{attrs:{icon:"cart-o",replace:"",to:"/cart"}},[e._v("购物车")]),e._v(" "),t("van-tabbar-item",{attrs:{icon:"user-o",replace:"",to:"/user"}},[e._v("我的")])],1)],1)},o=[],i=(r("e7e5"),r("d399")),s=r("bd86"),c=(r("66b9"),r("b650")),d=(r("2994"),r("2bdd")),l=(r("3647"),r("ea47")),u=(r("a52c"),r("2ed4")),f=(r("bda7"),r("5e46")),h=(r("537a"),r("ac28")),p=(r("da3c"),r("0b33")),m=(r("5246"),r("6b41")),g=(r("a909"),r("3acc")),v=(r("be39"),r("efa0")),b=(r("3c32"),r("417e")),j=(r("9cb7"),r("66fd")),k=(r("81e6"),r("9ffb")),O=(r("4d48"),r("d1e1")),_=(r("0653"),r("34e9")),x=(r("c194"),r("7744")),S=r("b30f"),T="/prod-api",w={components:(a={},Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(a,x["a"].name,x["a"]),_["a"].name,_["a"]),O["a"].name,O["a"]),k["a"].name,k["a"]),j["a"].name,j["a"]),b["a"].name,b["a"]),v["a"].name,v["a"]),g["a"].name,g["a"]),m["a"].name,m["a"]),p["a"].name,p["a"]),Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(a,h["a"].name,h["a"]),f["a"].name,f["a"]),u["a"].name,u["a"]),l["a"].name,l["a"]),d["a"].name,d["a"]),c["a"].name,c["a"])),data:function(){return{activeFooter:3,title:"",imgUrl:T+"/file/getImgStream?idFile=",order:{orderSn:"",address:{name:""}}}},mounted:function(){this.init()},methods:{init:function(){this.order.orderSn=this.$route.params.orderSn,this.getData()},getData:function(){var e=this;S["a"].get(this.order.orderSn).then((function(t){e.order=t.data}))},formatPrice:function(e){return(e/100).toFixed(2)},toGoods:function(e){this.$router.push({path:"/goods/"+e})},confirmReceive:function(){var e=this;Object(i["a"])("敬请期待"),S["a"].confirm(this.order.orderSn).then((function(t){e.order=t.data}))},payment:function(){this.$router.push({path:"/payment",query:{orderSn:this.order.orderSn,totalPrice:this.order.totalPrice}})},contact:function(){Object(i["a"])("敬请期待")},onClickLeft:function(){this.$router.go(-1)}}},y=w,C=(r("08d0"),r("2877")),P=Object(C["a"])(y,n,o,!1,null,null,null);t["default"]=P.exports},ea47:function(e,t,r){"use strict";var a=r("2638"),n=r.n(a),o=r("d282"),i=r("ba31"),s=r("b1d2"),c=r("7744"),d=r("34e9"),l=Object(o["a"])("panel"),u=l[0],f=l[1];function h(e,t,r,a){var o=function(){return[r.header?r.header():e(c["a"],{attrs:{icon:t.icon,label:t.desc,title:t.title,value:t.status,valueClass:f("header-value")},class:f("header")}),e("div",{class:f("content")},[r.default&&r.default()]),r.footer&&e("div",{class:[f("footer"),s["e"]]},[r.footer()])]};return e(d["a"],n()([{class:f(),scopedSlots:{default:o}},Object(i["b"])(a,!0)]))}h.props={icon:String,desc:String,title:String,status:String},t["a"]=u(h)}}]);