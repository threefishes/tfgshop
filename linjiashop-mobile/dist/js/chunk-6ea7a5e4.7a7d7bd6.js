(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ea7a5e4"],{"0fac":function(e,t,a){"use strict";var r=a("b775");t["a"]={queryAll:function(){return Object(r["a"])({url:"/topic/list",method:"get"})},get:function(e){return Object(r["a"])({url:"/topic/"+e,method:"get"})}}},"388b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"topic"},[t("h3",{staticClass:"title"},[e._v(e._s(e.topic.article.title))]),e._v(" "),t("van-cell-group",[t("p",{staticClass:"detail",domProps:{innerHTML:e._s(e.topic.article.content)}})]),e._v(" "),t("div",{staticClass:"goods"},[t("van-row",e._l(e.goodsList,(function(a,r){return t("van-col",{key:r,staticStyle:{"padding-left":"5px"},attrs:{span:12}},[t("van-image",{attrs:{height:"150",src:a.img},on:{click:function(t){return e.toGoods(a.id)}}}),e._v(" "),t("p",{staticClass:"text"},[e._v("\n                        "+e._s(a.name)+"\n                ")])],1)})),1)],1),e._v(" "),t("br"),e._v(" "),t("van-tabbar",{model:{value:e.activeFooter,callback:function(t){e.activeFooter=t},expression:"activeFooter"}},[t("van-tabbar-item",{attrs:{icon:"home-o",replace:"",to:"/index"}},[e._v("首页")]),e._v(" "),t("van-tabbar-item",{attrs:{icon:"search",replace:"",to:"/search"}},[e._v("发现")]),e._v(" "),t("van-tabbar-item",{attrs:{icon:"cart-o",replace:"",to:"/cart"}},[e._v("购物车")]),e._v(" "),t("van-tabbar-item",{attrs:{icon:"user-o",replace:"",to:"/user"}},[e._v("我的")])],1)],1)},s=[],o=(a("e7e5"),a("d399")),n=a("bd86"),c=(a("4056"),a("44bf")),i=(a("a52c"),a("2ed4")),p=(a("537a"),a("ac28")),u=(a("0653"),a("34e9")),d=(a("c194"),a("7744")),l=(a("c3a6"),a("ad06")),g=(a("81e6"),a("9ffb")),m=(a("4d48"),a("d1e1")),f=(a("5f1a"),a("a3e2")),h=a("0fac"),b="/prod-api",v={components:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},f["a"].name,f["a"]),m["a"].name,m["a"]),g["a"].name,g["a"]),l["a"].name,l["a"]),d["a"].name,d["a"]),u["a"].name,u["a"]),p["a"].name,p["a"]),i["a"].name,i["a"]),c["a"].name,c["a"]),data:function(){return{activeFooter:0,topic:{title:"",article:{content:""}},goodsList:[]}},created:function(){this.init()},computed:{cartCount:function(){return 2}},methods:{init:function(){var e=this,t=this.$route.params.id;h["a"].get(t).then((function(t){e.topic=t.data;var a=t.data.goodsList;for(var r in a)a[r].img=b+"/file/getImgStream?idFile="+a[r].pic;e.goodsList=a})).catch((function(e){console.log("err",e),Object(o["a"])(e)}))},toGoods:function(e){this.$router.push({path:"/goods/"+e})},sorry:function(){Object(o["a"])("敬请期待...")}}},_=v,j=(a("8f64"),a("2877")),O=Object(j["a"])(_,r,s,!1,null,null,null);t["default"]=O.exports},"8a3e":function(e,t,a){},"8f64":function(e,t,a){"use strict";a("8a3e")},b775:function(e,t,a){"use strict";a("e7e5");var r=a("d399"),s=(a("a481"),a("bc3a")),o=a.n(s),n=a("41cb"),c=a("4360"),i=a("5d2d"),p=o.a.create({baseURL:"/prod-api",withCredentials:!1,timeout:15e3});p.interceptors.request.use((function(e){return i["a"].getToken()&&(e.headers["Authorization"]=i["a"].getToken()),e}),(function(e){return Promise.reject(e)})),p.interceptors.response.use((function(e){console.log("response",e),e.headers.token&&c["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return 2e4!==t.code?Promise.reject(t.msg||"error"):t}),(function(e){if(e.response)switch(e.response.status){case 401:return c["a"].dispatch("app/toggleUser",{}),c["a"].dispatch("app/toggleToken",""),n["a"].replace({path:"/login",query:{redirect:n["a"].currentRoute.path}}),Promise.reject(e.response.data.message);case 500:if(e.response.data.message)return e.response.data.message.indexOf("relogin")>-1?(c["a"].dispatch("app/toggleUser",{}),c["a"].dispatch("app/toggleToken",""),n["a"].replace({path:"/login",query:{redirect:n["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):e.response.data.message.indexOf("该手机号已经绑定其他微信号")>-1?(c["a"].dispatch("app/toggleUser",{}),c["a"].dispatch("app/toggleToken",""),r["a"].fail(e.response.data.message),n["a"].replace({path:"/login",query:{redirect:n["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):(r["a"].fail(e.response.data.message),Promise.reject(e.response.data.message));break;default:return Promise.reject(e.response.data.message)}})),t["a"]=p}}]);