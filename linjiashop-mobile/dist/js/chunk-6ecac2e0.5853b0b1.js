(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ecac2e0"],{"3e0f":function(e,t,a){"use strict";var n=a("b775");t["a"]={wxPrepare:function(e){return Object(n["a"])({url:"/pay/wx/prepare",method:"post",params:e})},wxPay:function(e){var t={userName:e};return Object(n["a"])({url:"/user/updateUserName/",method:"post",params:t})},queryResult:function(e){return Object(n["a"])({url:"/pay/queryResult/"+e,method:"get"})}}},4320:function(e,t,a){},5246:function(e,t,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("8a0b")},"66b9":function(e,t,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("e3b3"),a("bc1b")},"6b41":function(e,t,a){"use strict";var n=a("d282"),r=a("b1d2"),s=a("ad06"),i=Object(n["a"])("nav-bar"),o=i[0],c=i[1];t["a"]=o({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){var e=this;if(this.placeholder&&this.fixed){var t=function(){e.height=e.$refs.navBar.getBoundingClientRect().height};t(),setTimeout(t,100)}},methods:{genLeft:function(){var e=this.$createElement,t=this.slots("left");return t||[this.leftArrow&&e(s["a"],{class:c("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&e("span",{class:c("text")},[this.leftText])]},genRight:function(){var e=this.$createElement,t=this.slots("right");return t||(this.rightText?e("span",{class:c("text")},[this.rightText]):void 0)},genNavBar:function(){var e,t=this.$createElement;return t("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[c({fixed:this.fixed,"safe-area-inset-top":this.safeAreaInsetTop}),(e={},e[r["b"]]=this.border,e)]},[t("div",{class:c("content")},[this.hasLeft()&&t("div",{class:c("left"),on:{click:this.onClickLeft}},[this.genLeft()]),t("div",{class:[c("title"),"van-ellipsis"]},[this.slots("title")||this.title]),this.hasRight()&&t("div",{class:c("right"),on:{click:this.onClickRight}},[this.genRight()])])])},hasLeft:function(){return this.leftArrow||this.leftText||this.slots("left")},hasRight:function(){return this.rightText||this.slots("right")},onClickLeft:function(e){this.$emit("click-left",e)},onClickRight:function(e){this.$emit("click-right",e)}},render:function(){var e=arguments[0];return this.placeholder&&this.fixed?e("div",{class:c("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}})},"8a0b":function(e,t,a){},9458:function(e,t,a){"use strict";a("4320")},a1a1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("van-nav-bar",{attrs:{title:"支付结果"}}),e._v(" "),t("div",{staticClass:"result"},[e.isSuccess?t("van-icon",{attrs:{name:"success",size:"80",color:"green"}}):e._e(),e._v(" "),e.isSuccess?e._e():t("van-icon",{attrs:{name:"cross",size:"80",color:"red"}}),t("br"),e._v(" "),t("span",[e._v(e._s(e.result))]),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),"查询中"!==e.result?t("div",[t("van-button",{attrs:{type:"primary"},on:{click:e.toOrder}},[e._v("查看订单")]),e._v(" "),t("van-button",{attrs:{type:"info"},on:{click:e.toIndex}},[e._v("继续购物")])],1):e._e()],1)],1)},r=[],s=a("bd86"),i=(a("c3a6"),a("ad06")),o=(a("e7e5"),a("d399")),c=(a("66b9"),a("b650")),l=(a("5246"),a("6b41")),u=a("3e0f"),d={components:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},l["a"].name,l["a"]),c["a"].name,c["a"]),o["a"].name,o["a"]),i["a"].name,i["a"]),data:function(){return{result:"查询中",isSuccess:!1,orderSn:""}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$route.params.orderSn;this.orderSn=t,u["a"].queryResult(t).then((function(t){!0===t.data?(e.result="支付成功",e.isSuccess=!0):(e.isSuccess=!1,e.result="支付失败")}))},toIndex:function(){this.$router.push("/index")},toOrder:function(){this.$router.push("/order/detail/"+this.orderSn)}}},h=d,p=(a("9458"),a("2877")),f=Object(p["a"])(h,n,r,!1,null,null,null);t["default"]=f.exports},b650:function(e,t,a){"use strict";var n=a("c31d"),r=a("2638"),s=a.n(r),i=a("d282"),o=a("ba31"),c=a("b1d2"),l=a("48f4"),u=a("ad06"),d=a("543e"),h=Object(i["a"])("button"),p=h[0],f=h[1];function g(e,t,a,n){var r,i=t.tag,h=t.icon,p=t.type,g=t.color,b=t.plain,v=t.disabled,m=t.loading,x=t.hairline,y=t.loadingText,k=t.iconPosition,S={};function T(e){t.loading&&e.preventDefault(),m||v||(Object(o["a"])(n,"click",e),Object(l["a"])(n))}function j(e){Object(o["a"])(n,"touchstart",e)}g&&(S.color=b?g:"white",b||(S.background=g),-1!==g.indexOf("gradient")?S.border=0:S.borderColor=g);var O=[f([p,t.size,{plain:b,loading:m,disabled:v,hairline:x,block:t.block,round:t.round,square:t.square}]),(r={},r[c["d"]]=x,r)];function B(){return m?a.loading?a.loading():e(d["a"],{class:f("loading"),attrs:{size:t.loadingSize,type:t.loadingType,color:"currentColor"}}):a.icon?e("div",{class:f("icon")},[a.icon()]):h?e(u["a"],{attrs:{name:h,classPrefix:t.iconPrefix},class:f("icon")}):void 0}function _(){var n,r=[];return"left"===k&&r.push(B()),n=m?y:a.default?a.default():t.text,n&&r.push(e("span",{class:f("text")},[n])),"right"===k&&r.push(B()),r}return e(i,s()([{style:S,class:O,attrs:{type:t.nativeType,disabled:v},on:{click:T,touchstart:j}},Object(o["b"])(n)]),[e("div",{class:f("content")},[_()])])}g.props=Object(n["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),t["a"]=p(g)},b775:function(e,t,a){"use strict";a("e7e5");var n=a("d399"),r=(a("a481"),a("bc3a")),s=a.n(r),i=a("41cb"),o=a("4360"),c=a("5d2d"),l=s.a.create({baseURL:"/prod-api",withCredentials:!1,timeout:15e3});l.interceptors.request.use((function(e){return c["a"].getToken()&&(e.headers["Authorization"]=c["a"].getToken()),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){console.log("response",e),e.headers.token&&o["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return 2e4!==t.code?Promise.reject(t.msg||"error"):t}),(function(e){if(e.response)switch(e.response.status){case 401:return o["a"].dispatch("app/toggleUser",{}),o["a"].dispatch("app/toggleToken",""),i["a"].replace({path:"/login",query:{redirect:i["a"].currentRoute.path}}),Promise.reject(e.response.data.message);case 500:if(e.response.data.message)return e.response.data.message.indexOf("relogin")>-1?(o["a"].dispatch("app/toggleUser",{}),o["a"].dispatch("app/toggleToken",""),i["a"].replace({path:"/login",query:{redirect:i["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):e.response.data.message.indexOf("该手机号已经绑定其他微信号")>-1?(o["a"].dispatch("app/toggleUser",{}),o["a"].dispatch("app/toggleToken",""),n["a"].fail(e.response.data.message),i["a"].replace({path:"/login",query:{redirect:i["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):(n["a"].fail(e.response.data.message),Promise.reject(e.response.data.message));break;default:return Promise.reject(e.response.data.message)}})),t["a"]=l},bc1b:function(e,t,a){},c3a6:function(e,t,a){"use strict";a("68ef"),a("9d70"),a("3743")}}]);