{"remainingRequest":"/home/linjiashop/linjiashop-mobile/node_modules/thread-loader/dist/cjs.js!/home/linjiashop/linjiashop-mobile/node_modules/babel-loader/lib/index.js!/home/linjiashop/linjiashop-mobile/src/router.js","dependencies":[{"path":"/home/linjiashop/linjiashop-mobile/src/router.js","mtime":1701070142209},{"path":"/home/linjiashop/linjiashop-mobile/babel.config.js","mtime":1701070142207},{"path":"/home/linjiashop/linjiashop-mobile/node_modules/cache-loader/dist/cjs.js","mtime":1701139867369},{"path":"/home/linjiashop/linjiashop-mobile/node_modules/thread-loader/dist/cjs.js","mtime":1701139866811},{"path":"/home/linjiashop/linjiashop-mobile/node_modules/babel-loader/lib/index.js","mtime":1701139868485}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport store from '@/store';\nimport storage from '@/utils/storage';\nVue.use(Router);\nvar routes = [{\n  path: '*',\n  redirect: '/index'\n}, {\n  name: 'error',\n  component: function component() {\n    return import(\"./view/common/error\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '系统异常'\n  }\n}, {\n  name: 'login',\n  component: function component() {\n    return import(\"./view/login\");\n  },\n  meta: {\n    title: '登录'\n  }\n}, {\n  name: 'index',\n  component: function component() {\n    return import(\"./view/index\");\n  },\n  meta: {\n    title: '邻家小铺'\n  }\n}, {\n  path: '/topic/:id',\n  name: 'topic',\n  component: function component() {\n    return import(\"./view/topic\");\n  },\n  meta: {\n    title: '专题推荐'\n  }\n}, {\n  name: 'list',\n  component: function component() {\n    return import(\"./view/goods/list\");\n  },\n  meta: {\n    title: '邻家小铺'\n  }\n}, {\n  path: '/goods/:id',\n  name: 'goods',\n  component: function component() {\n    return import(\"./view/goods\");\n  },\n  meta: {\n    title: '商品详情'\n  }\n}, {\n  name: 'search',\n  component: function component() {\n    return import(\"./view/search\");\n  },\n  meta: {\n    title: '发现'\n  }\n}, {\n  name: 'user',\n  component: function component() {\n    return import(\"./view/user\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '会员中心'\n  }\n}, {\n  name: 'setting',\n  component: function component() {\n    return import(\"./view/setting\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '设置'\n  }\n}, {\n  name: 'updateUserName',\n  component: function component() {\n    return import(\"./view/setting/updateUserName\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改姓名'\n  }\n}, {\n  name: 'updateMobile',\n  component: function component() {\n    return import(\"./view/setting/updateMobile\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改手机号'\n  }\n}, {\n  name: 'updatePwd',\n  component: function component() {\n    return import(\"./view/setting/updatePwd\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改密码'\n  }\n}, {\n  name: 'avatar',\n  component: function component() {\n    return import(\"./view/setting/avatar\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '修改头像'\n  }\n}, {\n  name: 'order',\n  component: function component() {\n    return import(\"./view/order\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '我的订单'\n  }\n}, {\n  name: 'order/detail/:orderSn',\n  component: function component() {\n    return import(\"./view/order/detail\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '我的订单'\n  }\n}, {\n  name: 'order/expressInfo/:orderSn',\n  component: function component() {\n    return import(\"./view/order/expressInfo\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '物流信息'\n  }\n}, {\n  name: 'favorite',\n  component: function component() {\n    return import(\"./view/favorite\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '喜欢的商品'\n  }\n}, {\n  name: 'payment/callback/:orderSn',\n  component: function component() {\n    return import(\"./view/order/payment/callback\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '支付结果'\n  }\n}, {\n  name: 'checkout',\n  component: function component() {\n    return import(\"./view/order/checkout\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '提交订单'\n  }\n}, {\n  name: 'payment',\n  component: function component() {\n    return import(\"./view/order/payment\");\n  },\n  meta: {\n    requireAuth: true,\n    title: '收银台'\n  }\n}, {\n  name: 'address',\n  component: function component() {\n    return import(\"./view/address\");\n  },\n  meta: {\n    title: '收货地址'\n  }\n}, {\n  name: 'address/edit',\n  component: function component() {\n    return import(\"./view/address/edit\");\n  },\n  meta: {\n    title: '新增收货地址'\n  }\n}, {\n  name: 'cart',\n  component: function component() {\n    return import(\"./view/cart\");\n  },\n  meta: {\n    // requireAuth: true,\n    title: '购物车'\n  }\n}];\nroutes.forEach(function (route) {\n  route.path = route.path || '/' + (route.name || '');\n});\nvar router = new Router({\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  var title = to.meta && to.meta.title;\n  if (title) {\n    document.title = title;\n  }\n  // 判断该路由是否需要登录权限\n  if (to.meta.requireAuth) {\n    if (storage.getToken()) {\n      next();\n    } else {\n      next({\n        path: '/login',\n        query: {\n          redirect: to.fullPath\n        } // 将跳转的路由path作为参数，登录成功后跳转到该路由\n      });\n    }\n  } else {\n    next();\n  }\n});\nexport { router };",null]}