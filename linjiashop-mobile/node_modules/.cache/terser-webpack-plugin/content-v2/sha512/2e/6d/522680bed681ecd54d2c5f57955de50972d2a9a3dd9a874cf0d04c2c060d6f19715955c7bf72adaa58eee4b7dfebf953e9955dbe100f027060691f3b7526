{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-621d0890\"],{\"0fac\":function(e,t,a){\"use strict\";var n=a(\"b775\");t[\"a\"]={queryAll:function(){return Object(n[\"a\"])({url:\"/topic/list\",method:\"get\"})},get:function(e){return Object(n[\"a\"])({url:\"/topic/\"+e,method:\"get\"})}}},\"0fee\":function(e,t,a){},2055:function(e,t,a){},\"28a5\":function(e,t,a){\"use strict\";var n=a(\"aae3\"),i=a(\"cb7c\"),r=a(\"ebd6\"),o=a(\"0390\"),c=a(\"9def\"),s=a(\"5f1b\"),u=a(\"520a\"),d=a(\"79e5\"),l=Math.min,p=[].push,f=\"split\",h=\"length\",g=\"lastIndex\",v=4294967295,m=!d((function(){RegExp(v,\"y\")}));a(\"214f\")(\"split\",2,(function(e,t,a,d){var b;return b=\"c\"==\"abbc\"[f](/(b)*/)[1]||4!=\"test\"[f](/(?:)/,-1)[h]||2!=\"ab\"[f](/(?:ab)*/)[h]||4!=\".\"[f](/(.?)(.?)/)[h]||\".\"[f](/()()/)[h]>1||\"\"[f](/.?/)[h]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(i,e,t);var r,o,c,s=[],d=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),l=0,f=void 0===t?v:t>>>0,m=new RegExp(e.source,d+\"g\");while(r=u.call(m,i)){if(o=m[g],o>l&&(s.push(i.slice(l,r.index)),r[h]>1&&r.index<i[h]&&p.apply(s,r.slice(1)),c=r[0][h],l=o,s[h]>=f))break;m[g]===r.index&&m[g]++}return l===i[h]?!c&&m.test(\"\")||s.push(\"\"):s.push(i.slice(l)),s[h]>f?s.slice(0,f):s}:\"0\"[f](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,n){var i=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,i,n):b.call(String(i),a,n)},function(e,t){var n=d(b,e,this,t,b!==a);if(n.done)return n.value;var u=i(e),p=String(this),f=r(u,RegExp),h=u.unicode,g=(u.ignoreCase?\"i\":\"\")+(u.multiline?\"m\":\"\")+(u.unicode?\"u\":\"\")+(m?\"y\":\"g\"),j=new f(m?u:\"^(?:\"+u.source+\")\",g),O=void 0===t?v:t>>>0;if(0===O)return[];if(0===p.length)return null===s(j,p)?[p]:[];var w=0,k=0,x=[];while(k<p.length){j.lastIndex=m?k:0;var y,_=s(j,m?p:p.slice(k));if(null===_||(y=l(c(j.lastIndex+(m?0:k)),p.length))===w)k=o(p,k,h);else{if(x.push(p.slice(w,k)),x.length===O)return x;for(var L=1;L<=_.length-1;L++)if(x.push(_[L]),x.length===O)return x;k=w=y}}return x.push(p.slice(w)),x}]}))},3647:function(e,t,a){\"use strict\";a(\"68ef\"),a(\"9d70\"),a(\"3743\"),a(\"1a04\"),a(\"5c56\"),a(\"0fee\")},4056:function(e,t,a){\"use strict\";a(\"68ef\"),a(\"9d70\"),a(\"3743\"),a(\"09fe\")},\"5a5e\":function(e,t,a){\"use strict\";a(\"2055\")},aae3:function(e,t,a){var n=a(\"d3f4\"),i=a(\"2d95\"),r=a(\"2b4c\")(\"match\");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:\"RegExp\"==i(e))}},b533:function(e,t,a){\"use strict\";a.r(t);var n,i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(\"div\",{staticClass:\"index\"},[t(\"van-tabs\",{on:{click:e.clickNav},model:{value:e.activeNav,callback:function(t){e.activeNav=t},expression:\"activeNav\"}},e._l(e.navList,(function(e){return t(\"van-tab\",{key:e.id,attrs:{title:e.name,name:e.id}})})),1),e._v(\" \"),t(\"div\",{staticClass:\"subject\"},[t(\"van-row\",e._l(e.topicList,(function(a,n){return t(\"van-col\",{key:n,attrs:{span:(n+3)%3===0?12:6}},[t(\"van-image\",{attrs:{height:\"100\",src:a.img},on:{click:function(t){return e.toTopic(a.id)}}}),e._v(\" \"),t(\"div\",{staticClass:\"text\"},[e._v(\" \"+e._s(a.title))])],1)})),1)],1),e._v(\" \"),t(\"van-panel\",{attrs:{title:\"热门推荐\"}},e._l(e.hotList,(function(a,n){return t(\"van-card\",{key:n,attrs:{price:e.formatPrice(a.price),desc:a.descript,title:a.name,thumb:a.img,\"thumb-link\":a.link},on:{click:function(t){return e.viewGoodsDetail(a.id)}}})})),1),e._v(\" \"),t(\"br\"),e._v(\" \"),t(\"van-panel\",{attrs:{title:\"新品推荐\"}},e._l(e.newList,(function(a,n){return t(\"van-card\",{key:n,attrs:{price:e.formatPrice(a.price),desc:a.descript,title:a.name,thumb:a.img,\"thumb-link\":a.link},on:{click:function(t){return e.viewGoodsDetail(a.id)}}})})),1),e._v(\" \"),t(\"br\"),t(\"br\"),t(\"br\"),t(\"br\"),e._v(\" \"),t(\"van-tabbar\",{model:{value:e.activeFooter,callback:function(t){e.activeFooter=t},expression:\"activeFooter\"}},[t(\"van-tabbar-item\",{attrs:{icon:\"home-o\",replace:\"\",to:\"/index\"}},[e._v(\"首页\")]),e._v(\" \"),t(\"van-tabbar-item\",{attrs:{icon:\"search\",replace:\"\",to:\"/search\"}},[e._v(\"发现\")]),e._v(\" \"),t(\"van-tabbar-item\",{attrs:{icon:\"cart-o\",replace:\"\",to:\"/cart\"}},[e._v(\"购物车\")]),e._v(\" \"),t(\"van-tabbar-item\",{attrs:{icon:\"user-o\",replace:\"\",to:\"/user\"}},[e._v(\"我的\")])],1)],1)},r=[],o=(a(\"28a5\"),a(\"bd86\")),c=(a(\"66cf\"),a(\"343b\")),s=(a(\"4056\"),a(\"44bf\")),u=(a(\"3647\"),a(\"ea47\")),d=(a(\"2994\"),a(\"2bdd\")),l=(a(\"2b28\"),a(\"9ed2\")),p=(a(\"e7e5\"),a(\"d399\")),f=(a(\"9cb7\"),a(\"66fd\")),h=(a(\"bda7\"),a(\"5e46\")),g=(a(\"da3c\"),a(\"0b33\")),v=(a(\"a52c\"),a(\"2ed4\")),m=(a(\"537a\"),a(\"ac28\")),b=(a(\"0653\"),a(\"34e9\")),j=(a(\"c194\"),a(\"7744\")),O=(a(\"c3a6\"),a(\"ad06\")),w=(a(\"81e6\"),a(\"9ffb\")),k=(a(\"4d48\"),a(\"d1e1\")),x=a(\"c405\"),y=a(\"c40e\"),_=a(\"0fac\"),L=a(\"b775\"),S={getWxSign:function(e){return Object(L[\"a\"])({url:\"/wechat/getWxSign\",method:\"post\",params:e})},getWxOpenId:function(e){return Object(L[\"a\"])({url:\"/wechat/getWxOpenId\",method:\"post\",params:e})}},q=a(\"4360\"),C=a(\"5d2d\"),I=\"/prod-api\",P={components:(n={},Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(n,k[\"a\"].name,k[\"a\"]),w[\"a\"].name,w[\"a\"]),O[\"a\"].name,O[\"a\"]),j[\"a\"].name,j[\"a\"]),b[\"a\"].name,b[\"a\"]),m[\"a\"].name,m[\"a\"]),v[\"a\"].name,v[\"a\"]),g[\"a\"].name,g[\"a\"]),h[\"a\"].name,h[\"a\"]),f[\"a\"].name,f[\"a\"]),Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(Object(o[\"a\"])(n,p[\"a\"].name,p[\"a\"]),l[\"a\"].name,l[\"a\"]),d[\"a\"].name,d[\"a\"]),u[\"a\"].name,u[\"a\"]),s[\"a\"].name,s[\"a\"]),\"Lazyload\",c[\"a\"])),data:function(){return{loading:!1,finished:!1,navList:[],banners:[],hotList:[],newList:[],activeFooter:0,activeNav:0,total:0,listQuery:{page:1,limit:50,idCategory:void 0},count:0,isLoading:!1,topicList:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=q[\"a\"].state.app.category;if(t&&0!=t.length)this.navList=t;else{var a=navigator.platform;q[\"a\"].dispatch(\"app/toggleDevice\",a),x[\"a\"].getAllCategories().then((function(t){var a=t.data;a.splice(0,0,{name:\"推荐\",id:\"0\"}),e.navList=a,q[\"a\"].dispatch(\"app/toggleCategory\",a)})).catch((function(e){p[\"a\"].fail(e)}))}this.queryGoods(),this.queryTopic()},queryGoods:function(){var e=this;y[\"a\"].searchHot().then((function(t){var a=t.data;for(var n in a){var i=a[n];i.img=I+\"/file/getImgStream?idFile=\"+i.pic}e.hotList=a})).catch((function(e){Object(p[\"a\"])(e)})),y[\"a\"].searchNew().then((function(t){var a=t.data;for(var n in a){var i=a[n];i.img=I+\"/file/getImgStream?idFile=\"+i.pic}e.newList=a})).catch((function(e){Object(p[\"a\"])(e)}))},queryTopic:function(){var e=this;_[\"a\"].queryAll().then((function(t){var a=t.data;for(var n in a){var i=a[n];i.img=I+\"/file/getImgStream?idFile=\"+i.article.img}e.topicList=a}))},clickNav:function(e,t){this.activeNav=e,this.$router.push({path:\"/list?itemId=\"+e})},clickSwipe:function(e,t){},viewGoodsDetail:function(e){this.$router.push({path:\"/goods/\"+e})},formatPrice:function(e){return(e/100).toFixed(2)},toTopic:function(e){this.$router.push({path:\"/topic/\"+e})},processOpenid:function(){var e=window.location.href;if(e.indexOf(\"code\")>-1){var t=e.split(\"code=\")[1].split(\"&\")[0];S.getWxOpenId({code:t}).then((function(e){q[\"a\"].dispatch(\"app/toggleToken\",e.data.token),q[\"a\"].dispatch(\"app/toggleUser\",e.data.user),C[\"a\"].set(\"chosenAddressId\",\"\")}))}else this.redirectForCode()},redirectForCode:function(){S.getWxSign({url:window.location.href}).then((function(e){var t=e.data,a=window.location.href,n=\"appid=\"+t.appId;n+=\"&response_type=code\",n+=\"&scope=snsapi_base\",n+=\"&redirect_uri=\"+encodeURIComponent(a),n+=\"&state=linjiashop#wechat_redirect\",window.location.href=\"https://open.weixin.qq.com/connect/oauth2/authorize?\"+n})).catch((function(e){}))}}},T=P,F=(a(\"5a5e\"),a(\"2877\")),N=Object(F[\"a\"])(T,i,r,!1,null,null,null);t[\"default\"]=N.exports},b775:function(e,t,a){\"use strict\";a(\"e7e5\");var n=a(\"d399\"),i=(a(\"a481\"),a(\"bc3a\")),r=a.n(i),o=a(\"41cb\"),c=a(\"4360\"),s=a(\"5d2d\"),u=r.a.create({baseURL:\"/prod-api\",withCredentials:!1,timeout:15e3});u.interceptors.request.use((function(e){return s[\"a\"].getToken()&&(e.headers[\"Authorization\"]=s[\"a\"].getToken()),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){console.log(\"response\",e),e.headers.token&&c[\"a\"].dispatch(\"app/toggleToken\",e.headers.token);var t=e.data;return 2e4!==t.code?Promise.reject(t.msg||\"error\"):t}),(function(e){if(e.response)switch(e.response.status){case 401:return c[\"a\"].dispatch(\"app/toggleUser\",{}),c[\"a\"].dispatch(\"app/toggleToken\",\"\"),o[\"a\"].replace({path:\"/login\",query:{redirect:o[\"a\"].currentRoute.path}}),Promise.reject(e.response.data.message);case 500:if(e.response.data.message)return e.response.data.message.indexOf(\"relogin\")>-1?(c[\"a\"].dispatch(\"app/toggleUser\",{}),c[\"a\"].dispatch(\"app/toggleToken\",\"\"),o[\"a\"].replace({path:\"/login\",query:{redirect:o[\"a\"].currentRoute.path}}),Promise.reject(e.response.data.message)):e.response.data.message.indexOf(\"该手机号已经绑定其他微信号\")>-1?(c[\"a\"].dispatch(\"app/toggleUser\",{}),c[\"a\"].dispatch(\"app/toggleToken\",\"\"),n[\"a\"].fail(e.response.data.message),o[\"a\"].replace({path:\"/login\",query:{redirect:o[\"a\"].currentRoute.path}}),Promise.reject(e.response.data.message)):(n[\"a\"].fail(e.response.data.message),Promise.reject(e.response.data.message));break;default:return Promise.reject(e.response.data.message)}})),t[\"a\"]=u},c405:function(e,t,a){\"use strict\";var n=a(\"b775\");t[\"a\"]={getAllCategories:function(){return Object(n[\"a\"])({url:\"/category/list\",method:\"get\"})}}},c40e:function(e,t,a){\"use strict\";var n=a(\"b775\");t[\"a\"]={queryGoods:function(e){return Object(n[\"a\"])({url:\"/goods/queryGoods\",method:\"get\",params:e})},search:function(e){return Object(n[\"a\"])({url:\"/goods/search\",method:\"get\",params:e})},searchHot:function(){return Object(n[\"a\"])({url:\"/goods/searchHot\",method:\"get\"})},searchNew:function(){return Object(n[\"a\"])({url:\"/goods/searchNew\",method:\"get\"})},getGoods:function(e){return Object(n[\"a\"])({url:\"/goods/\"+e,method:\"get\"})}}},ea47:function(e,t,a){\"use strict\";var n=a(\"2638\"),i=a.n(n),r=a(\"d282\"),o=a(\"ba31\"),c=a(\"b1d2\"),s=a(\"7744\"),u=a(\"34e9\"),d=Object(r[\"a\"])(\"panel\"),l=d[0],p=d[1];function f(e,t,a,n){var r=function(){return[a.header?a.header():e(s[\"a\"],{attrs:{icon:t.icon,label:t.desc,title:t.title,value:t.status,valueClass:p(\"header-value\")},class:p(\"header\")}),e(\"div\",{class:p(\"content\")},[a.default&&a.default()]),a.footer&&e(\"div\",{class:[p(\"footer\"),c[\"e\"]]},[a.footer()])]};return e(u[\"a\"],i()([{class:p(),scopedSlots:{default:r}},Object(o[\"b\"])(n,!0)]))}f.props={icon:String,desc:String,title:String,status:String},t[\"a\"]=l(f)}}]);","extractedComments":[]}